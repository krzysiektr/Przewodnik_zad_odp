<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Krzysztof Trajkowski kody w Python" />


<title>Zadania do części ‘pazuRrry’</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Przewodnik po pakiecie R - zadania i odpowiedzi</a>
</li>
<li>
  <a href="R_01.html">Rozdział pierwszy</a>
</li>
<li>
  <a href="R_02.html">Rozdział drugi</a>
</li>
<li>
  <a href="R_03.html">Rozdział trzeci</a>
</li>
<li>
  <a href="R_04.html">Rozdział czwarty</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Zadania do części ‘pazuRrry’</h1>
<h4 class="author"><a href="https://github.com/krzysiektr/">Krzysztof Trajkowski</a> kody w Python</h4>
<h4 class="date">10 września 2019</h4>

</div>


<div id="r-zadanie-2.1" class="section level1 tabset">
<h1>R Zadanie 2.1</h1>
<p>Odczytaj ramkę danych z zadania 1.13. Następnie zamień dane liczbowe z kolumny Wiek na zmienną czynnikową, dzieląc pacjentki na 3 grupy: o wieku do 45 lat, o wieku powyżej 55 lat i o wieku pośrednim. Poziomy tej zmiennej powinny nazywać się następująco: <code>&quot;wiek &lt;45&quot;</code>, <code>&quot;45&lt;= wiek &lt;=55&quot;</code>, <code>&quot;wiek &gt;55&quot;</code>. Następnie wyświetl macierz kontyngencji dla tej zmiennej i dla pary zmiennych wieku oraz dla płci. Dodaj do macierzy sumy brzegowe. Wyświetl płaską macierz kontyngencji dla trójki zmiennych czynnikowych, dwóch powyższych i jeszcze zmiennej <code>WIT</code>.</p>
<div id="r-code" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">wiekPoziomy =<span class="st"> </span><span class="kw">cut</span>(daneBT<span class="op">$</span>Wiek, <span class="kw">c</span>(<span class="dv">0</span>,<span class="fl">45.5</span>, <span class="fl">55.5</span>, <span class="dv">100</span>), <span class="kw">c</span>(<span class="st">&quot;wiek &lt;45&quot;</span>, <span class="st">&quot;45&lt;= wiek &lt;=55&quot;</span>, <span class="st">&quot;wiek &gt;55&quot;</span>))</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">table</span>(wiekPoziomy)</a></code></pre></div>
<pre><code>## wiekPoziomy
##       wiek &lt;45 45&lt;= wiek &lt;=55       wiek &gt;55 
##              7              7             10</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">table</span>(daneBT[,<span class="dv">2</span>], wiekPoziomy)</a></code></pre></div>
<pre><code>##    wiekPoziomy
##     wiek &lt;45 45&lt;= wiek &lt;=55 wiek &gt;55
##   K        3              5        1
##   M        4              2        9</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">addmargins</span>(<span class="kw">table</span>(daneBT[,<span class="dv">2</span>], wiekPoziomy))</a></code></pre></div>
<pre><code>##      wiekPoziomy
##       wiek &lt;45 45&lt;= wiek &lt;=55 wiek &gt;55 Sum
##   K          3              5        1   9
##   M          4              2        9  15
##   Sum        7              7       10  24</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">ftable</span>(daneBT[,<span class="dv">2</span>], daneBT[,<span class="dv">3</span>], wiekPoziomy)</a></code></pre></div>
<pre><code>##          wiekPoziomy wiek &lt;45 45&lt;= wiek &lt;=55 wiek &gt;55
##                                                      
## K brak                      1              3        1
##   obecny                    2              2        0
## M brak                      2              2        7
##   obecny                    2              0        2</code></pre>
</div>
<div id="python-code" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">daneBT <span class="op">=</span> pd.read_csv(<span class="st">&quot;http://www.biecek.pl/R/dane/daneBioTech.csv&quot;</span>,sep<span class="op">=</span><span class="st">&#39;;&#39;</span>,decimal<span class="op">=</span><span class="st">&#39;,&#39;</span>, header<span class="op">=</span><span class="dv">0</span>, encoding<span class="op">=</span><span class="st">&#39;iso8859_2&#39;</span>)</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">daneBT <span class="op">=</span> daneBT.rename(columns<span class="op">=</span><span class="kw">lambda</span> x: x.replace(<span class="st">&#39; &#39;</span>, <span class="st">&#39;_&#39;</span>))</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"></a>
<a class="sourceLine" id="cb9-6" data-line-number="6">wiekPoziomy <span class="op">=</span> pd.cut(daneBT[<span class="st">&#39;Wiek_&#39;</span>],[<span class="dv">0</span>,<span class="fl">45.5</span>,<span class="fl">55.5</span>,<span class="dv">100</span>],labels<span class="op">=</span>[<span class="st">&#39;wiek &lt;45&#39;</span>,<span class="st">&#39;45&lt;= wiek &lt;=55&#39;</span>,<span class="st">&#39;wiek &gt;55&#39;</span>],precision<span class="op">=</span><span class="dv">0</span>)</a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="bu">print</span>(pd.crosstab(index<span class="op">=</span>wiekPoziomy, columns<span class="op">=</span><span class="st">&quot;count&quot;</span>))</a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="bu">print</span>(pd.crosstab(index<span class="op">=</span>daneBT.iloc[:,<span class="dv">1</span>], columns<span class="op">=</span>wiekPoziomy))</a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="bu">print</span>(pd.crosstab(index<span class="op">=</span>daneBT.iloc[:,<span class="dv">1</span>], columns<span class="op">=</span>wiekPoziomy,margins<span class="op">=</span><span class="va">True</span>))</a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="bu">print</span>(pd.crosstab(index<span class="op">=</span>[daneBT.iloc[:,<span class="dv">1</span>],daneBT.iloc[:,<span class="dv">2</span>]], columns<span class="op">=</span>[wiekPoziomy]))</a></code></pre></div>
<pre><code>## col_0           count
## Wiek_                
## wiek &lt;45            7
## 45&lt;= wiek &lt;=55      7
## wiek &gt;55           10
## Wiek_         wiek &lt;45  45&lt;= wiek &lt;=55  wiek &gt;55
## Płeć_K-0_M-1                                    
## K                    3               5         1
## M                    4               2         9
## Wiek_         wiek &lt;45  45&lt;= wiek &lt;=55  wiek &gt;55  All
## Płeć_K-0_M-1                                         
## K                    3               5         1    9
## M                    4               2         9   15
## All                  7               7        10   24
## Wiek_                wiek &lt;45  45&lt;= wiek &lt;=55  wiek &gt;55
## Płeć_K-0_M-1 WIT                                       
## K            brak           1               3         1
##              obecny         2               2         0
## M            brak           2               2         7
##              obecny         2               0         2</code></pre>
</div>
</div>
<div id="rr-zadanie-2.2" class="section level1 tabset">
<h1>RR Zadanie 2.2</h1>
<p>Pod adresem <a href="http://www.biecek.pl/R/dane/imieniny.txt">http://www.biecek.pl/R/dane/imieniny.txt</a> znajduje się plik tekstowy z imionami i datami imienin dla kolejnych imion. Plik jest w dosyć kłopotliwym formacie, mianowicie w każdym wierszu w pierwszej pozycji znajduje się imię, a po nim występują daty imienin. Wszystkie te pola rozdzielone są spacją. Ponieważ jednak różne imiona mają różne liczby imienin dane te nie są w postaci tabelarycznej. Odczytaj dane tak, by każdy wiersz był jednym elementem (można np. za separator wskazać ; nie występuje on w tym pliku, cała linia zostanie więc traktowana jako jeden element). Sprawdź ile imion znajduje się w tym pliku z danymi.</p>
<blockquote>
<p>Pamiętaj przy tym, że domyślnie pola tekstowe konwertowane są na zmienne czynnikowe.</p>
</blockquote>
<div id="r-code-1" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">linie =<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">read.table</span>(<span class="st">&quot;http://www.biecek.pl/R/dane/imieniny.txt&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">stringsAsFactors=</span>F,<span class="dt">fileEncoding=</span><span class="st">&quot;ISO-8859-2&quot;</span>))</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw">length</span>(linie)</a></code></pre></div>
<pre><code>## [1] 610</code></pre>
</div>
<div id="python-code-1" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">line <span class="op">=</span> pd.read_table(<span class="st">&#39;http://www.biecek.pl/R/dane/imieniny.txt&#39;</span>,header<span class="op">=</span><span class="va">None</span>,encoding<span class="op">=</span><span class="st">&#39;iso8859_2&#39;</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="bu">print</span>(line.shape[<span class="dv">0</span>])</a></code></pre></div>
<pre><code>## 610</code></pre>
</div>
</div>
<div id="rrr-zadanie-2.3" class="section level1 tabset">
<h1>RRR Zadanie 2.3</h1>
<p>Po odczytaniu danych z zadania 2.2 użyj <code>strsplit()</code> i <code>sapply()</code>, by z odczytanych danych wydobyć tylko informacje o imionach. Zlicz liczby znaków w kolejnych imionach i wyznacz macierz kontyngencji opisującą ile imion ma określoną długość. Sprawdź, które imię ma najwięcej znaków i które imiona mają najmniej znaków. Większość imion żeńskich kończy się literą ‘a’, wykorzystując tę informację zlicz liczbę żeńskich imion. Sprawdź ile liter rozpoczyna się literą A, ile B, ile C itp. Sprawdź, które imiona kończą się suffixem anna. Polskie litery występujące w imionach zamień na odpowiedniki łacińskie, np. ą na a, ź na z itp. Sprawdź, ile imion zawierało polskie litery.</p>
<blockquote>
<p>Od tej reguły są wyjątki np. żeńskie imię Beatrycze i męskie Bonawentura. Dla uproszczenia zapomnijmy o wyjątkach.</p>
</blockquote>
<div id="r-code-2" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">linie =<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">read.table</span>(<span class="st">&quot;http://www.biecek.pl/R/dane/imieniny.txt&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">stringsAsFactors=</span>F,<span class="dt">fileEncoding=</span><span class="st">&quot;ISO-8859-2&quot;</span>))</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">imiona =<span class="st"> </span><span class="kw">sapply</span>(<span class="kw">strsplit</span>(linie, <span class="st">&quot; &quot;</span>), <span class="cf">function</span>(x) x[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">dlugosciImion =<span class="st"> </span><span class="kw">nchar</span>(imiona)</a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="kw">table</span>(dlugosciImion)</a></code></pre></div>
<pre><code>## dlugosciImion
##   3   4   5   6   7   8   9  10  11  12 
##   9  26  79 144 139 106  65  33   8   1</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">imiona[dlugosciImion <span class="op">==</span><span class="st"> </span><span class="kw">min</span>(dlugosciImion)]</a></code></pre></div>
<pre><code>##   V15  V125 V1185 V1244 V1245 V1256 V1265 V1343 V1581 
## &quot;Ada&quot; &quot;Alf&quot; &quot;Ewa&quot; &quot;Ida&quot; &quot;Iga&quot; &quot;Iwo&quot; &quot;Jan&quot; &quot;Lew&quot; &quot;Wit&quot;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">imiona[dlugosciImion <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(dlugosciImion)]</a></code></pre></div>
<pre><code>##          V1230 
## &quot;Hermenegilda&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">zenskieImiona =<span class="st"> </span>imiona[<span class="kw">grep</span>(<span class="st">&quot;a$&quot;</span>,imiona)]</a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="kw">length</span>(zenskieImiona)</a></code></pre></div>
<pre><code>## [1] 268</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">pierwszaLitera =<span class="st"> </span><span class="kw">substr</span>(imiona, <span class="dv">0</span>,<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="kw">summary</span>(<span class="kw">factor</span>(pierwszaLitera))</a></code></pre></div>
<pre><code>## \u008c      A      B      C      D      E      F      G      H      I 
##      1     63     47     15     26     35     16     16     25     17 
##      J      K      L      Ł      M      N      O      P      R      S 
##     30     40     30      4     48     13      9     25     33     35 
##      T      U      W      Z      Ż 
##     15      6     42     18      1</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">imiona[<span class="kw">grep</span>(<span class="st">&quot;anna$&quot;</span>,imiona)]</a></code></pre></div>
<pre><code>##      V1222      V1275      V1285      V1348      V1382      V1606 
##    &quot;Hanna&quot;   &quot;Joanna&quot; &quot;Julianna&quot; &quot;Lilianna&quot; &quot;Marianna&quot;  &quot;Zuzanna&quot;</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">imionaBezPolskich =<span class="st"> </span><span class="kw">chartr</span>(<span class="st">&quot;ąęśćłńóźżĄĘŚĆŁŃÓŹŻ&quot;</span>,<span class="st">&quot;aesclnozzAESCLNOZZ&quot;</span>, imiona)</a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="kw">sum</span>(imionaBezPolskich <span class="op">!=</span><span class="st"> </span>imiona)</a></code></pre></div>
<pre><code>## [1] 80</code></pre>
</div>
<div id="python-code-2" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"></a>
<a class="sourceLine" id="cb29-3" data-line-number="3">linie <span class="op">=</span> pd.read_table(<span class="st">&#39;http://www.biecek.pl/R/dane/imieniny.txt&#39;</span>,header<span class="op">=</span><span class="va">None</span>,encoding<span class="op">=</span><span class="st">&#39;iso8859_2&#39;</span>)</a>
<a class="sourceLine" id="cb29-4" data-line-number="4">imiona <span class="op">=</span> [ linie[<span class="dv">0</span>][i].split()[<span class="dv">0</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>]) ]</a>
<a class="sourceLine" id="cb29-5" data-line-number="5">dlugosciImion <span class="op">=</span> [ <span class="bu">len</span>(imiona[i]) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>]) ]</a>
<a class="sourceLine" id="cb29-6" data-line-number="6">df <span class="op">=</span> pd.DataFrame({<span class="st">&#39;imiona&#39;</span>:imiona,<span class="st">&#39;dlugosciImion&#39;</span> : dlugosciImion})</a>
<a class="sourceLine" id="cb29-7" data-line-number="7"><span class="bu">print</span>(pd.crosstab(index<span class="op">=</span>df[<span class="st">&quot;dlugosciImion&quot;</span>], columns<span class="op">=</span><span class="st">&quot;count&quot;</span>))</a>
<a class="sourceLine" id="cb29-8" data-line-number="8"><span class="bu">print</span>(df[df.dlugosciImion <span class="op">==</span> df.dlugosciImion.<span class="bu">min</span>(axis<span class="op">=</span><span class="dv">0</span>)])</a>
<a class="sourceLine" id="cb29-9" data-line-number="9"><span class="bu">print</span>(df[df.dlugosciImion <span class="op">==</span> df.dlugosciImion.<span class="bu">max</span>(axis<span class="op">=</span><span class="dv">0</span>)])</a>
<a class="sourceLine" id="cb29-10" data-line-number="10"></a>
<a class="sourceLine" id="cb29-11" data-line-number="11">df[<span class="st">&#39;zenskieImiona&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;imiona&#39;</span>].<span class="bu">str</span>.extract(<span class="st">&#39;(a$)&#39;</span>, expand<span class="op">=</span><span class="va">True</span>)</a>
<a class="sourceLine" id="cb29-12" data-line-number="12"><span class="bu">print</span>(df.dropna(subset<span class="op">=</span>[<span class="st">&#39;zenskieImiona&#39;</span>]).shape[<span class="dv">0</span>])</a>
<a class="sourceLine" id="cb29-13" data-line-number="13">  </a>
<a class="sourceLine" id="cb29-14" data-line-number="14">pierwszaLitera <span class="op">=</span> [ imiona[i][<span class="dv">0</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>]) ]</a>
<a class="sourceLine" id="cb29-15" data-line-number="15">d <span class="op">=</span> pd.DataFrame({<span class="st">&#39;pierwszaLitera&#39;</span>:pierwszaLitera})</a>
<a class="sourceLine" id="cb29-16" data-line-number="16"><span class="bu">print</span>(d[<span class="st">&#39;pierwszaLitera&#39;</span>].value_counts())</a>
<a class="sourceLine" id="cb29-17" data-line-number="17"></a>
<a class="sourceLine" id="cb29-18" data-line-number="18">df[<span class="st">&#39;anna&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;imiona&#39;</span>].<span class="bu">str</span>.extract(<span class="st">&#39;(anna$)&#39;</span>, expand<span class="op">=</span><span class="va">True</span>)</a>
<a class="sourceLine" id="cb29-19" data-line-number="19"><span class="bu">print</span>(df.dropna(subset<span class="op">=</span>[<span class="st">&#39;anna&#39;</span>])[<span class="st">&#39;imiona&#39;</span>])</a>
<a class="sourceLine" id="cb29-20" data-line-number="20">  </a>
<a class="sourceLine" id="cb29-21" data-line-number="21">df[<span class="st">&#39;imio&#39;</span>] <span class="op">=</span> [ df[<span class="st">&#39;imiona&#39;</span>][i].translate(<span class="bu">str</span>.maketrans(<span class="st">&quot;ąęśćłńóźżĄĘŚĆŁŃÓŹŻ&quot;</span>, <span class="st">&quot;aesclnozzAESCLNOZZ&quot;</span>)) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>])]</a>
<a class="sourceLine" id="cb29-22" data-line-number="22"><span class="bu">print</span>(<span class="bu">sum</span>(df[<span class="st">&#39;imiona&#39;</span>] <span class="op">!=</span> df[<span class="st">&#39;imio&#39;</span>]))</a></code></pre></div>
<pre><code>## col_0          count
## dlugosciImion       
## 3                  9
## 4                 26
## 5                 79
## 6                144
## 7                139
## 8                106
## 9                 65
## 10                33
## 11                 8
## 12                 1
##     imiona  dlugosciImion
## 4      Ada              3
## 24     Alf              3
## 184    Ewa              3
## 243    Ida              3
## 244    Iga              3
## 255    Iwo              3
## 264    Jan              3
## 342    Lew              3
## 580    Wit              3
##            imiona  dlugosciImion
## 229  Hermenegilda             12
## 268
## A    63
## M    48
## B    47
## W    42
## K    40
## E    35
## S    35
## R    33
## J    30
## L    30
## D    26
## P    25
## H    25
## Z    18
## I    17
## F    16
## G    16
## C    15
## T    15
## N    13
## O     9
## U     6
## Ł     4
##      1
## Ż     1
## Name: pierwszaLitera, dtype: int64
## 221       Hanna
## 274      Joanna
## 284    Julianna
## 347    Lilianna
## 381    Marianna
## 605     Zuzanna
## Name: imiona, dtype: object
## 80</code></pre>
</div>
</div>
<div id="rr-zadanie-2.4" class="section level1 tabset">
<h1>RR Zadanie 2.4</h1>
<p>Po odczytaniu danych z powyższego zadania sprawdź, kto ma imieniny 30 października. Wyświetl te imiona w porządku leksykograficznym. Sprawdź, które imię ma najczęściej imieniny. Sprawdź, w którym dniu roku najwięcej imion ma imieniny. Sprawdź, w którym dniu miesiąca a następnie, w którym miesiącu najwięcej imion ma imieniny.</p>
<p>Na bazie wszystkich imion zrób analizę używalności poszczególnych liter. Która litera jest najpopularniejsza? Dlaczego?</p>
<div id="r-code-3" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">urodzeni30X =<span class="st"> </span>imiona[<span class="kw">c</span>(<span class="kw">grep</span>(<span class="st">&quot; 30.X$&quot;</span>, linie), <span class="kw">grep</span>(<span class="st">&quot; 30.X &quot;</span>, linie))]</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw">sort</span>(urodzeni30X)</a></code></pre></div>
<pre><code>##         V127         V126        V1154        V1307        V1457 
##     &quot;Alfons&quot;  &quot;Alfonsyna&quot;     &quot;Edmund&quot;  &quot;Klaudiusz&quot; &quot;Przemysław&quot; 
##        V1600 
##    &quot;Zenobia&quot;</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">liczbyImienin =<span class="st"> </span><span class="kw">sapply</span>(<span class="kw">strsplit</span>(linie, <span class="st">&quot; &quot;</span>), <span class="cf">function</span>(x) <span class="kw">length</span>(x)<span class="op">-</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2">linie[liczbyImienin<span class="op">==</span><span class="kw">max</span>(liczbyImienin)]</a></code></pre></div>
<pre><code>##                                                                                                                                                                                                                           V1265 
## &quot;Jan 10.I 17.I 23.I 31.I 4.II 5.II 8.II 5.III 8.III 17.III 27.III 28.III 30.III 13.IV 6.V 10.V 12.V 15.V 21.V 22.V 23.V 24.V 27.V 12.VI 16.VI 24.VI 26.VI 9.VIII 13.VIII 19.VIII 20.VIII 29.VIII 3.IX 11.IX 28.IX 1.X 9.X 23.X&quot;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">datyImienin =<span class="st"> </span><span class="kw">sapply</span>(<span class="kw">strsplit</span>(linie, <span class="st">&quot; &quot;</span>), <span class="cf">function</span>(x) x[<span class="op">-</span><span class="dv">1</span>])</a>
<a class="sourceLine" id="cb35-2" data-line-number="2">liczebnosci =<span class="st"> </span><span class="kw">table</span>(<span class="kw">unlist</span>(datyImienin))</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="kw">names</span>(liczebnosci[liczebnosci <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(liczebnosci)])</a></code></pre></div>
<pre><code>## [1] &quot;14.II&quot;</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">dniImienin      =<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">sapply</span>(<span class="kw">strsplit</span>(linie, <span class="st">&quot;[ .]&quot;</span>), <span class="cf">function</span>(x) x[<span class="kw">seq</span>(<span class="dv">2</span>,<span class="kw">length</span>(x),<span class="dv">2</span>)]))</a>
<a class="sourceLine" id="cb37-2" data-line-number="2">miesiaceImienin =<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">sapply</span>(<span class="kw">strsplit</span>(linie, <span class="st">&quot;[ .]&quot;</span>), <span class="cf">function</span>(x) x[<span class="kw">seq</span>(<span class="dv">3</span>,<span class="kw">length</span>(x),<span class="dv">2</span>)]))</a>
<a class="sourceLine" id="cb37-3" data-line-number="3"><span class="kw">table</span>(dniImienin)</a></code></pre></div>
<pre><code>## dniImienin
##  1 10 11 12 13 14 15 16 17 18 19  2 20 21 22 23 24 25 26 27 28 29  3 30 31 
## 58 52 63 66 61 68 63 71 77 59 64 61 62 69 50 56 66 48 46 57 51 53 64 57 43 
##  4  5  6  7  8  9 
## 66 56 58 53 55 58</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="kw">table</span>(miesiaceImienin)</a></code></pre></div>
<pre><code>## miesiaceImienin
##    I   II  III   IV   IX    V   VI  VII VIII    X   XI  XII 
##  152  154  162  167  160  150  142  179  158  155  138  114</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">table</span>(dniImienin))</a></code></pre></div>
<p><img src="R_02_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">table</span>(miesiaceImienin))</a></code></pre></div>
<p><img src="R_02_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="kw">plot</span>(<span class="kw">table</span>(<span class="kw">tolower</span>(<span class="kw">unlist</span>(<span class="kw">sapply</span>(<span class="kw">strsplit</span>(linie, <span class="st">&quot;[ ]&quot;</span>), <span class="cf">function</span>(x) <span class="kw">strsplit</span>(x[<span class="dv">1</span>],<span class="st">&quot;&quot;</span>))))))</a></code></pre></div>
<p><img src="R_02_files/figure-html/unnamed-chunk-7-3.png" width="672" /></p>
</div>
<div id="python-code-3" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb44-2" data-line-number="2"></a>
<a class="sourceLine" id="cb44-3" data-line-number="3">linie <span class="op">=</span> pd.read_table(<span class="st">&#39;http://www.biecek.pl/R/dane/imieniny.txt&#39;</span>,header<span class="op">=</span><span class="va">None</span>,encoding<span class="op">=</span><span class="st">&#39;iso8859_2&#39;</span>)</a>
<a class="sourceLine" id="cb44-4" data-line-number="4">linie[<span class="st">&#39;imiona&#39;</span>] <span class="op">=</span> [ linie[<span class="dv">0</span>][i].split()[<span class="dv">0</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>]) ]</a>
<a class="sourceLine" id="cb44-5" data-line-number="5">linie[<span class="st">&#39;w1&#39;</span>] <span class="op">=</span> linie.iloc[:,<span class="dv">0</span>].<span class="bu">str</span>.extract(<span class="st">&#39;( 30.X$)&#39;</span>, expand<span class="op">=</span><span class="va">True</span>).dropna()</a>
<a class="sourceLine" id="cb44-6" data-line-number="6">linie[<span class="st">&#39;w2&#39;</span>] <span class="op">=</span> linie.iloc[:,<span class="dv">0</span>].<span class="bu">str</span>.extract(<span class="st">&#39;( 30.X )&#39;</span>, expand<span class="op">=</span><span class="va">True</span>).dropna()</a>
<a class="sourceLine" id="cb44-7" data-line-number="7">urodzeni30X <span class="op">=</span> linie.dropna(subset<span class="op">=</span>[<span class="st">&#39;w1&#39;</span>])[<span class="st">&#39;imiona&#39;</span>].tolist() <span class="op">+</span> linie.dropna(subset<span class="op">=</span>[<span class="st">&#39;w2&#39;</span>])[<span class="st">&#39;imiona&#39;</span>].tolist()</a>
<a class="sourceLine" id="cb44-8" data-line-number="8"><span class="bu">print</span>(<span class="bu">sorted</span>(urodzeni30X))</a>
<a class="sourceLine" id="cb44-9" data-line-number="9"></a>
<a class="sourceLine" id="cb44-10" data-line-number="10">w <span class="op">=</span> linie.iloc[:,<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb44-11" data-line-number="11">linie[<span class="st">&#39;urodziny&#39;</span>] <span class="op">=</span> [ w[i].split(<span class="st">&#39; &#39;</span>)[<span class="dv">1</span>:] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>]) ]</a>
<a class="sourceLine" id="cb44-12" data-line-number="12">linie[<span class="st">&#39;liczbyImienin&#39;</span>] <span class="op">=</span> [ <span class="bu">len</span>(linie[<span class="st">&#39;urodziny&#39;</span>][i]) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>]) ]</a>
<a class="sourceLine" id="cb44-13" data-line-number="13"><span class="bu">print</span>(linie[linie.liczbyImienin <span class="op">==</span> linie.liczbyImienin.<span class="bu">max</span>(axis<span class="op">=</span><span class="dv">0</span>)])</a>
<a class="sourceLine" id="cb44-14" data-line-number="14"></a>
<a class="sourceLine" id="cb44-15" data-line-number="15">d <span class="op">=</span> pd.DataFrame()</a>
<a class="sourceLine" id="cb44-16" data-line-number="16">d[<span class="st">&#39;urodz&#39;</span>] <span class="op">=</span> [y <span class="cf">for</span> x <span class="kw">in</span> linie[<span class="st">&#39;urodziny&#39;</span>].tolist() <span class="cf">for</span> y <span class="kw">in</span> x]</a>
<a class="sourceLine" id="cb44-17" data-line-number="17"><span class="bu">print</span>(d[<span class="st">&#39;urodz&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>))</a>
<a class="sourceLine" id="cb44-18" data-line-number="18"></a>
<a class="sourceLine" id="cb44-19" data-line-number="19">d <span class="op">=</span> d.join(d[<span class="st">&#39;urodz&#39;</span>].<span class="bu">str</span>.split(<span class="st">&#39;.&#39;</span>, <span class="dv">1</span>,expand<span class="op">=</span><span class="va">True</span>).rename(columns<span class="op">=</span>{<span class="dv">0</span>:<span class="st">&#39;dniImienin&#39;</span>,<span class="dv">1</span>:<span class="st">&#39;miesiaceImienin&#39;</span>}))</a>
<a class="sourceLine" id="cb44-20" data-line-number="20"><span class="bu">print</span>(d[<span class="st">&#39;dniImienin&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>))</a>
<a class="sourceLine" id="cb44-21" data-line-number="21"><span class="bu">print</span>(d[<span class="st">&#39;miesiaceImienin&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>))</a>
<a class="sourceLine" id="cb44-22" data-line-number="22"></a>
<a class="sourceLine" id="cb44-23" data-line-number="23"><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb44-24" data-line-number="24"></a>
<a class="sourceLine" id="cb44-25" data-line-number="25">fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>))</a>
<a class="sourceLine" id="cb44-26" data-line-number="26">ax1 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb44-27" data-line-number="27">ax2 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb44-28" data-line-number="28">ax1.vlines(d[<span class="st">&#39;dniImienin&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>).index.values, [<span class="dv">0</span>], d[<span class="st">&#39;dniImienin&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>),lw<span class="op">=</span><span class="dv">2</span>,color<span class="op">=</span><span class="st">&#39;C0&#39;</span>)</a>
<a class="sourceLine" id="cb44-29" data-line-number="29">ax2.vlines(d[<span class="st">&#39;miesiaceImienin&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>).index.values, [<span class="dv">0</span>], d[<span class="st">&#39;miesiaceImienin&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>),lw<span class="op">=</span><span class="dv">2</span>,color<span class="op">=</span><span class="st">&#39;C0&#39;</span>)</a>
<a class="sourceLine" id="cb44-30" data-line-number="30">plt.tight_layout()</a>
<a class="sourceLine" id="cb44-31" data-line-number="31">plt.savefig(<span class="st">&#39;R02_1.png&#39;</span>)</a>
<a class="sourceLine" id="cb44-32" data-line-number="32"></a>
<a class="sourceLine" id="cb44-33" data-line-number="33">u <span class="op">=</span> [linie[<span class="st">&#39;imiona&#39;</span>][i] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(linie.shape[<span class="dv">0</span>]) ]</a>
<a class="sourceLine" id="cb44-34" data-line-number="34">litery <span class="op">=</span> <span class="st">&#39;,&#39;</span>.join(u).replace(<span class="st">&#39;,&#39;</span>, <span class="st">&#39;&#39;</span>).lower()</a>
<a class="sourceLine" id="cb44-35" data-line-number="35">D <span class="op">=</span> pd.DataFrame({<span class="st">&#39;litery&#39;</span>:<span class="bu">list</span>(litery)})</a>
<a class="sourceLine" id="cb44-36" data-line-number="36">Y <span class="op">=</span> D[<span class="st">&#39;litery&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb44-37" data-line-number="37">X <span class="op">=</span> D[<span class="st">&#39;litery&#39;</span>].value_counts(sort<span class="op">=</span><span class="va">False</span>).index.values</a>
<a class="sourceLine" id="cb44-38" data-line-number="38"></a>
<a class="sourceLine" id="cb44-39" data-line-number="39">fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">6</span>))</a>
<a class="sourceLine" id="cb44-40" data-line-number="40">ax <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb44-41" data-line-number="41">ax.vlines(X, [<span class="dv">0</span>], Y, lw<span class="op">=</span><span class="dv">2</span>, color<span class="op">=</span><span class="st">&#39;C0&#39;</span>)</a>
<a class="sourceLine" id="cb44-42" data-line-number="42">plt.tight_layout()</a>
<a class="sourceLine" id="cb44-43" data-line-number="43">plt.savefig(<span class="st">&#39;R02_2.png&#39;</span>)</a></code></pre></div>
<pre><code>## /home/krz/.local/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:211: RuntimeWarning: Glyph 140 missing from current font.
##   font.set_text(s, 0.0, flags=flags)
## /home/krz/.local/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:211: RuntimeWarning: Glyph 156 missing from current font.
##   font.set_text(s, 0.0, flags=flags)
## /home/krz/.local/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:176: RuntimeWarning: Glyph 140 missing from current font.
##   font.load_char(ord(s), flags=flags)
## /home/krz/.local/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py:176: RuntimeWarning: Glyph 156 missing from current font.
##   font.load_char(ord(s), flags=flags)
## [&#39;Alfons&#39;, &#39;Alfonsyna&#39;, &#39;Edmund&#39;, &#39;Klaudiusz&#39;, &#39;Przemysław&#39;, &#39;Zenobia&#39;]
##                                                      0  ... liczbyImienin
## 264  Jan 10.I 17.I 23.I 31.I 4.II 5.II 8.II 5.III 8...  ...            38
## 
## [1 rows x 6 columns]
##           4
## 2.VII     5
## 21.VI     8
## 12.IX     5
## 5.III     6
##          ..
## 7.VI      7
## 5.VII     7
## 6.VIII    5
## 10.VII    6
## 15.V      5
## Name: urodz, Length: 367, dtype: int64
##        4
## 23    56
## 28    51
## 15    63
## 10    52
## 20    62
## 30    57
## 14    68
## 31    43
## 16    71
## 19    64
## 27    57
## 3     64
## 18    59
## 17    77
## 24    66
## 5     56
## 2     61
## 22    50
## 25    48
## 6     58
## 11    63
## 8     55
## 9     58
## 1     58
## 12    66
## 26    46
## 7     53
## 13    61
## 4     66
## 21    69
## 29    53
## Name: dniImienin, dtype: int64
## II      154
## XI      138
## VI      142
## IX      160
## XII     114
## I       152
## III     162
## VII     179
## V       150
## VIII    158
## X       155
## IV      167
## Name: miesiaceImienin, dtype: int64</code></pre>
<div class="figure" style="text-align: center">
<img src="R02_1.png" alt="Wykresy." width="100%" />
<p class="caption">
Wykresy.
</p>
</div>
<div class="figure" style="text-align: center">
<img src="R02_2.png" alt="Wykresy." width="100%" />
<p class="caption">
Wykresy.
</p>
</div>
</div>
</div>
<div id="r-zadanie-2.5" class="section level1 tabset">
<h1>R Zadanie 2.5</h1>
<p>Odczytaj ramkę danych z zadania 1.13. Następnie używając funkcji <code>by()</code> wyświetl podsumowanie zmiennej Wiek osobno dla grupy <code>WIT=brak</code> i dla grupy <code>WIT=obecny</code>.</p>
<div id="r-code-4" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw">with</span>(daneBT,<span class="kw">by</span>(Wiek,WIT,summary))</a></code></pre></div>
<pre><code>## WIT: brak
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   28.00   51.25   55.50   53.12   58.00   70.00 
## -------------------------------------------------------- 
## WIT: obecny
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   24.00   38.00   46.50   45.38   54.25   59.00</code></pre>
</div>
<div id="python-code-4" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb48-2" data-line-number="2"></a>
<a class="sourceLine" id="cb48-3" data-line-number="3">daneBT <span class="op">=</span> pd.read_csv(<span class="st">&quot;http://www.biecek.pl/R/dane/daneBioTech.csv&quot;</span>,sep<span class="op">=</span><span class="st">&#39;;&#39;</span>,decimal<span class="op">=</span><span class="st">&#39;,&#39;</span>, header<span class="op">=</span><span class="dv">0</span>, encoding<span class="op">=</span><span class="st">&#39;iso8859_2&#39;</span>)</a>
<a class="sourceLine" id="cb48-4" data-line-number="4">daneBT <span class="op">=</span> daneBT.rename(columns<span class="op">=</span><span class="kw">lambda</span> x: x.replace(<span class="st">&#39; &#39;</span>, <span class="st">&#39;_&#39;</span>))</a>
<a class="sourceLine" id="cb48-5" data-line-number="5"></a>
<a class="sourceLine" id="cb48-6" data-line-number="6"><span class="bu">print</span>(daneBT.groupby([<span class="st">&#39;WIT&#39;</span>])[<span class="st">&#39;Wiek_&#39;</span>].describe())</a></code></pre></div>
<pre><code>##         count    mean        std   min    25%   50%    75%   max
## WIT                                                             
## brak     16.0  53.125   9.653151  28.0  51.25  55.5  58.00  70.0
## obecny    8.0  45.375  12.023043  24.0  38.00  46.5  54.25  59.0</code></pre>
</div>
</div>
<div id="r-zadanie-2.6" class="section level1 tabset">
<h1>R Zadanie 2.6</h1>
<p>Wyznacz wyznacznik, wartości własne oraz wektory własne macierzy: <span class="math display">\[\begin{bmatrix}
1 &amp; 5 &amp; 3\\
2 &amp; 0 &amp; 5\\
1 &amp; 2 &amp; 1
\end{bmatrix}.\]</span></p>
<div id="r-code-5" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">mat =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>),<span class="dv">3</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="kw">det</span>(mat)</a></code></pre></div>
<pre><code>## [1] 17</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">eigen</span>(mat)</a></code></pre></div>
<pre><code>## eigen() decomposition
## $values
## [1]  6.0790256 -3.2070365 -0.8719891
## 
## $vectors
##            [,1]       [,2]       [,3]
## [1,] -0.3638991  0.1602696 -0.3467453
## [2,] -0.5472752 -0.6900345 -0.1392322
## [3,] -0.7537024  0.7058088  0.9275678</code></pre>
</div>
<div id="python-code-5" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb54-2" data-line-number="2"></a>
<a class="sourceLine" id="cb54-3" data-line-number="3">mat <span class="op">=</span> np.array(np.mat(<span class="st">&#39;1,2,1; 5,0,2; 3,5,1&#39;</span>))</a>
<a class="sourceLine" id="cb54-4" data-line-number="4"><span class="bu">print</span>(np.linalg.det(mat))</a>
<a class="sourceLine" id="cb54-5" data-line-number="5">_, eigenvectors <span class="op">=</span> np.linalg.eig(mat)</a>
<a class="sourceLine" id="cb54-6" data-line-number="6"><span class="bu">print</span>(eigenvectors)</a></code></pre></div>
<pre><code>## 17.0
## [[-0.3638991  -0.34674535  0.16026961]
##  [-0.54727525 -0.13923216 -0.69003446]
##  [-0.75370236  0.92756783  0.70580882]]</code></pre>
</div>
</div>
<div id="rr-zadanie-2.7" class="section level1 tabset">
<h1>RR Zadanie 2.7</h1>
<p>Używając funkcji <code>outer()</code> zbuduj i wyświetl na ekranie tabliczkę mnożenia liczb od 1 do 10.</p>
<div id="r-code-6" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw">outer</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,<span class="cf">function</span>(x,y) <span class="kw">paste</span>(x,<span class="st">&quot;*&quot;</span>,y,<span class="st">&quot;=&quot;</span>,x<span class="op">*</span>y,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>))</a></code></pre></div>
<pre><code>##      [,1]    [,2]     [,3]     [,4]     [,5]    
## [1,] &quot;1*1=1&quot; &quot;1*2=2&quot;  &quot;1*3=3&quot;  &quot;1*4=4&quot;  &quot;1*5=5&quot; 
## [2,] &quot;2*1=2&quot; &quot;2*2=4&quot;  &quot;2*3=6&quot;  &quot;2*4=8&quot;  &quot;2*5=10&quot;
## [3,] &quot;3*1=3&quot; &quot;3*2=6&quot;  &quot;3*3=9&quot;  &quot;3*4=12&quot; &quot;3*5=15&quot;
## [4,] &quot;4*1=4&quot; &quot;4*2=8&quot;  &quot;4*3=12&quot; &quot;4*4=16&quot; &quot;4*5=20&quot;
## [5,] &quot;5*1=5&quot; &quot;5*2=10&quot; &quot;5*3=15&quot; &quot;5*4=20&quot; &quot;5*5=25&quot;</code></pre>
</div>
<div id="python-code-6" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb58"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb58-2" data-line-number="2"></a>
<a class="sourceLine" id="cb58-3" data-line-number="3"><span class="bu">print</span>(np.arange(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">1</span>)[:,<span class="va">None</span>] <span class="op">*</span> np.arange(<span class="dv">1</span>,<span class="dv">6</span>,<span class="dv">1</span>))</a></code></pre></div>
<pre><code>## [[ 1  2  3  4  5]
##  [ 2  4  6  8 10]
##  [ 3  6  9 12 15]
##  [ 4  8 12 16 20]
##  [ 5 10 15 20 25]]</code></pre>
</div>
</div>
<div id="r-zadanie-2.8" class="section level1 tabset">
<h1>R Zadanie 2.8</h1>
<p>Odczytaj ramkę danych z zadania 1.13. Następnie wyznacz histogram dla zmiennej <code>Wiek</code> i zapisz go do pliku <code>hist.pdf</code> w wymiarach <span class="math inline">\(5\times5\)</span> cali.</p>
<div id="r-code-7" class="section level2">
<h2>R code</h2>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">pdf</span>(<span class="st">&quot;hist.pdf&quot;</span>, <span class="dv">5</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb60-2" data-line-number="2"><span class="kw">hist</span>(daneBT[,<span class="st">&#39;Wiek&#39;</span>])</a>
<a class="sourceLine" id="cb60-3" data-line-number="3"><span class="kw">dev.off</span>()</a></code></pre></div>
<pre><code>## png 
##   2</code></pre>
</div>
<div id="python-code-7" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb62-2" data-line-number="2"><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb62-3" data-line-number="3"></a>
<a class="sourceLine" id="cb62-4" data-line-number="4">daneBT <span class="op">=</span> pd.read_csv(<span class="st">&quot;http://www.biecek.pl/R/dane/daneBioTech.csv&quot;</span>,sep<span class="op">=</span><span class="st">&#39;;&#39;</span>,decimal<span class="op">=</span><span class="st">&#39;,&#39;</span>, header<span class="op">=</span><span class="dv">0</span>, encoding<span class="op">=</span><span class="st">&#39;iso8859_2&#39;</span>)</a>
<a class="sourceLine" id="cb62-5" data-line-number="5">daneBT <span class="op">=</span> daneBT.rename(columns<span class="op">=</span><span class="kw">lambda</span> x: x.replace(<span class="st">&#39; &#39;</span>, <span class="st">&#39;_&#39;</span>))</a>
<a class="sourceLine" id="cb62-6" data-line-number="6"></a>
<a class="sourceLine" id="cb62-7" data-line-number="7">daneBT[<span class="st">&#39;Wiek_&#39;</span>].hist()</a>
<a class="sourceLine" id="cb62-8" data-line-number="8">plt.tight_layout()</a>
<a class="sourceLine" id="cb62-9" data-line-number="9">plt.savefig(<span class="st">&#39;hist.pdf&#39;</span>)</a></code></pre></div>
</div>
</div>
<div id="rrr-zadanie-2.9" class="section level1 tabset">
<h1>RRR Zadanie 2.9</h1>
<p>Pod adresem <a href="http://money.pl/">http://money.pl/</a> można odczytać aktualne wartości indeksów giełdowych. Wczytaj zawartość tej strony do programu R, a następnie wyciągnij z niej dane o nazwie i wartościach indeksów. Zauważ, że w treści HTML tabela z nazwami i wartościami indeksów rozpoczyna się od linii <code>&lt;table id=&quot;tgpw&quot; class=&quot;tabela&quot;&gt;</code>.</p>
<div id="r-code-8" class="section level2">
<h2>R code</h2>
</div>
<div id="python-code-8" class="section level2">
<h2>Python code</h2>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="bu">print</span>(<span class="st">&quot;TODO&quot;</span>)</a></code></pre></div>
<pre><code>## TODO</code></pre>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
